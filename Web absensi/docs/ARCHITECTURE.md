# ğŸ—ï¸ Arsitektur Backend Web Absensi

## ğŸ“ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND (React)                          â”‚
â”‚                                                                  â”‚
â”‚  Login  â”‚  Register  â”‚  Submit Absensi  â”‚  View Rekap â”‚ Profile â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚              â”‚
              â–¼              â–¼              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ HTTP    â”‚  â”‚ Headers  â”‚  â”‚ JSON Body   â”‚
         â”‚ Request â”‚  â”‚ + Token  â”‚  â”‚ + Data      â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXPRESS.JS BACKEND                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ MIDDLEWARE                                              â”‚   â”‚
â”‚  â”‚ - CORS handler                                          â”‚   â”‚
â”‚  â”‚ - JSON parser                                           â”‚   â”‚
â”‚  â”‚ - JWT verification (for protected routes)              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â”‚                                        â”‚
â”‚                         â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ROUTES (3 main groups)                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ 1. AUTH ROUTES (/api/auth/*)                            â”‚   â”‚
â”‚  â”‚    â”œâ”€ POST /register                                    â”‚   â”‚
â”‚  â”‚    â”œâ”€ POST /login                                       â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /profile (protected)                          â”‚   â”‚
â”‚  â”‚    â””â”€ PUT /update-password (protected)                  â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ 2. ABSENSI ROUTES (/api/absensi/*)                      â”‚   â”‚
â”‚  â”‚    â”œâ”€ POST /submit (protected)                          â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /my-absensi (protected)                       â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /history (protected) â”€â–º STACK                â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /statistik (protected)                        â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /by-date (protected)                          â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /by-month-year (protected)                    â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /all (admin)                                  â”‚   â”‚
â”‚  â”‚    â”œâ”€ PUT /:id (admin)                                  â”‚   â”‚
â”‚  â”‚    â””â”€ DELETE /:id (admin)                               â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ 3. USER ROUTES (/api/user/*)                            â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /all (admin) â”€â”€â”€â”€â”€â”€â”€â”€â–º LINKED LIST           â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /:id (protected)                              â”‚   â”‚
â”‚  â”‚    â”œâ”€ GET /search (protected) â”€â–º LINKED LIST           â”‚   â”‚
â”‚  â”‚    â”œâ”€ POST /add (admin)                                 â”‚   â”‚
â”‚  â”‚    â”œâ”€ PUT /:id (protected)                              â”‚   â”‚
â”‚  â”‚    â””â”€ DELETE /:id (admin)                               â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â”‚                                        â”‚
â”‚                         â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ CONTROLLERS (Business Logic)                            â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ authController.js                                       â”‚   â”‚
â”‚  â”‚   â”œâ”€ register()                                         â”‚   â”‚
â”‚  â”‚   â”œâ”€ login()                                            â”‚   â”‚
â”‚  â”‚   â”œâ”€ getProfile()                                       â”‚   â”‚
â”‚  â”‚   â””â”€ updatePassword()                                   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ absensiController.js                                    â”‚   â”‚
â”‚  â”‚   â”œâ”€ submitAbsensi()  â”€â”€â–º Stack.push()                 â”‚   â”‚
â”‚  â”‚   â”œâ”€ getAbsensiHistory() â”€â”€â–º Stack.getAll()            â”‚   â”‚
â”‚  â”‚   â”œâ”€ getMyAbsensi()                                     â”‚   â”‚
â”‚  â”‚   â”œâ”€ getStatistik()                                     â”‚   â”‚
â”‚  â”‚   â”œâ”€ getAbsensiByDate()                                 â”‚   â”‚
â”‚  â”‚   â”œâ”€ getAbsensiByMonthYear()                            â”‚   â”‚
â”‚  â”‚   â”œâ”€ updateAbsensi()                                    â”‚   â”‚
â”‚  â”‚   â””â”€ deleteAbsensi()                                    â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ userController.js                                       â”‚   â”‚
â”‚  â”‚   â”œâ”€ getAllSiswa() â”€â”€â”€â”€â”€â”€â–º LinkedList.toArray()        â”‚   â”‚
â”‚  â”‚   â”œâ”€ getSiswaById()                                     â”‚   â”‚
â”‚  â”‚   â”œâ”€ searchSiswa() â”€â”€â”€â”€â”€â”€â–º LinkedList.findBy()         â”‚   â”‚
â”‚  â”‚   â”œâ”€ addSiswa()  â”€â”€â”€â”€â”€â”€â”€â”€â–º LinkedList.append()         â”‚   â”‚
â”‚  â”‚   â”œâ”€ updateSiswa()                                      â”‚   â”‚
â”‚  â”‚   â””â”€ deleteSiswa() â”€â”€â”€â”€â”€â”€â–º LinkedList.remove()         â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â”‚                                        â”‚
â”‚                         â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ DATA STRUCTURES (In-Memory)                             â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ STACK (for Absensi History)                             â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚   â”‚
â”‚  â”‚ â”‚ Absensi Data  â”‚ â—„â”€â”€ Top (Most Recent)                â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚   â”‚
â”‚  â”‚ â”‚ Absensi Data  â”‚                                       â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚   â”‚
â”‚  â”‚ â”‚ ...           â”‚                                       â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚   â”‚
â”‚  â”‚ â”‚ Absensi Data  â”‚ â—„â”€â”€ Bottom (Oldest - Auto Removed)   â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚   â”‚
â”‚  â”‚ Max 10 Records (LIFO)                                   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ LINKED LIST (for Siswa Data)                            â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚ â”‚ Siswa 1   â”‚â”€â”€â”€â†’â”‚ Siswa 2   â”‚â”€â”€â”€â†’â”‚ Siswa 3   â”‚â”€â”€â†’null â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚   â”‚
â”‚  â”‚ â”‚ ID: 1     â”‚    â”‚ ID: 2     â”‚    â”‚ ID: 3     â”‚        â”‚   â”‚
â”‚  â”‚ â”‚ Name:...  â”‚    â”‚ Name:...  â”‚    â”‚ Name:...  â”‚        â”‚   â”‚
â”‚  â”‚ â”‚ Email:... â”‚    â”‚ Email:... â”‚    â”‚ Email:... â”‚        â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚ Dynamic Size                                            â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â”‚                                        â”‚
â”‚                         â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ DATABASE (File-Based JSON)                              â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ users.json          â—„â”€â”€â”€ Persistent Storage             â”‚   â”‚
â”‚  â”‚ [                                                        â”‚   â”‚
â”‚  â”‚   {                                                      â”‚   â”‚
â”‚  â”‚     "id": "...",                                         â”‚   â”‚
â”‚  â”‚     "email": "...",                                      â”‚   â”‚
â”‚  â”‚     "password": "...",                                   â”‚   â”‚
â”‚  â”‚     "name": "...",                                       â”‚   â”‚
â”‚  â”‚     "role": "siswa|admin"                               â”‚   â”‚
â”‚  â”‚   }                                                      â”‚   â”‚
â”‚  â”‚ ]                                                        â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ absensi.json        â—„â”€â”€â”€ Persistent Storage             â”‚   â”‚
â”‚  â”‚ [                                                        â”‚   â”‚
â”‚  â”‚   {                                                      â”‚   â”‚
â”‚  â”‚     "id": "...",                                         â”‚   â”‚
â”‚  â”‚     "userId": "...",                                     â”‚   â”‚
â”‚  â”‚     "date": "2024-01-10",                               â”‚   â”‚
â”‚  â”‚     "status": "Hadir|Sakit|Izin|Alpa",                 â”‚   â”‚
â”‚  â”‚     "timestamp": "..."                                  â”‚   â”‚
â”‚  â”‚   }                                                      â”‚   â”‚
â”‚  â”‚ ]                                                        â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Request/Response Flow

### 1. Login Flow
```
Frontend                 Backend                  Database
   â”‚                        â”‚                         â”‚
   â”‚â”€ POST /login â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚                         â”‚
   â”‚   {email, password}    â”‚                         â”‚
   â”‚                        â”‚â”€ getUser(email) â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                        â”‚                         â”‚
   â”‚                        â”‚â†â”€ User data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                        â”‚                         â”‚
   â”‚                        â”‚â”€ Compare password      â”‚
   â”‚                        â”‚â”€ Generate JWT token    â”‚
   â”‚                        â”‚                         â”‚
   â”‚â†â”€ {token, user} â”€â”€â”€â”€â”€â”€â”‚                         â”‚
   â”‚                        â”‚                         â”‚
```

### 2. Submit Absensi Flow (Uses STACK)
```
Frontend              Backend                Stack
   â”‚                     â”‚                    â”‚
   â”‚â”€ POST /submit â”€â”€â”€â”€â”€â†’â”‚                    â”‚
   â”‚ {date, status}      â”‚                    â”‚
   â”‚                     â”‚â”€ Validate â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                     â”‚                    â”‚
   â”‚                     â”‚â”€ saveAbsensi() â”€â”€â”€â†’â”‚
   â”‚                     â”‚ to database        â”‚
   â”‚                     â”‚                    â”‚
   â”‚                     â”‚â”€ Stack.push() â”€â”€â”€â”€â†’â”‚
   â”‚                     â”‚                    â”‚
   â”‚                     â”‚â†â”€ Check size       â”‚
   â”‚                     â”‚  (> 10?)           â”‚
   â”‚                     â”‚                    â”‚
   â”‚                     â”‚â”€ if Stack.size() > 10 â”‚
   â”‚                     â”‚  Stack.pop() â”€â”€â”€â”€â”€â”€â”‚
   â”‚                     â”‚                    â”‚
   â”‚â†â”€ {success} â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
   â”‚                    â”‚                    â”‚
```

### 3. Get Absensi History Flow (From STACK)
```
Frontend              Backend               STACK
   â”‚                     â”‚                    â”‚
   â”‚â”€ GET /history â”€â”€â”€â”€â”€â†’â”‚                    â”‚
   â”‚                     â”‚                    â”‚
   â”‚                     â”‚â”€ Stack.getAll() â”€â”€â†’â”‚
   â”‚                     â”‚                    â”‚
   â”‚                     â”‚â†â”€ [last 10] â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                     â”‚                    â”‚
   â”‚â†â”€ {data: [...]} â”€â”€â”‚                    â”‚
   â”‚                    â”‚                    â”‚
```

### 4. Get All Siswa Flow (From LINKED LIST)
```
Frontend              Backend           LINKED LIST
   â”‚                     â”‚                   â”‚
   â”‚â”€ GET /user/all â”€â”€â”€â”€â†’â”‚                   â”‚
   â”‚                     â”‚                   â”‚
   â”‚                     â”‚â”€ LinkedList.     â”‚
   â”‚                     â”‚  toArray() â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                     â”‚                   â”‚
   â”‚                     â”‚â†â”€ [siswa] â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                     â”‚                   â”‚
   â”‚â†â”€ {data: [...]} â”€â”€â”‚                   â”‚
   â”‚                    â”‚                   â”‚
```

### 5. Search Siswa Flow (Traverse LINKED LIST)
```
Frontend              Backend           LINKED LIST
   â”‚                     â”‚                   â”‚
   â”‚â”€ GET /search â”€â”€â”€â”€â”€â”€â†’â”‚                   â”‚
   â”‚   ?keyword=x        â”‚                   â”‚
   â”‚                     â”‚â”€ toArray() â”€â”€â”€â”€â”€â”€â†’â”‚
   â”‚                     â”‚  filter(keyword)  â”‚
   â”‚                     â”‚                   â”‚
   â”‚                     â”‚â†â”€ [matches] â”€â”€â”€â”€â”€â”€â”‚
   â”‚                     â”‚                   â”‚
   â”‚â†â”€ {data: [...]} â”€â”€â”‚                   â”‚
   â”‚                    â”‚                   â”‚
```

---

## ğŸ” Authentication Flow

```
1. User Register
   â””â”€ Email + Password
   â””â”€ Hash password dengan bcryptjs
   â””â”€ Save to users.json

2. User Login
   â””â”€ Email + Password
   â””â”€ Find user by email
   â””â”€ Compare password dengan hash
   â””â”€ Generate JWT token (expires 24h)
   â””â”€ Send token to frontend

3. Protected Requests
   â””â”€ Frontend attach token di header: Authorization: Bearer <token>
   â””â”€ Backend verify token dengan JWT
   â””â”€ Extract userId dari token
   â””â”€ Proceed dengan request

4. Token Verification Middleware
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ verifyToken middleware      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ 1. Check header             â”‚
   â”‚ 2. Extract token            â”‚
   â”‚ 3. Verify dengan secret     â”‚
   â”‚ 4. Decode payload           â”‚
   â”‚ 5. Attach userId to request â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Structure Deep Dive

### STACK Implementation
```javascript
// Stack untuk history (Max 10)
const stack = {
  items: [
    { id: 1, status: "Hadir", date: "2024-01-10" },  // Index 0 (oldest)
    { id: 2, status: "Hadir", date: "2024-01-11" },
    { id: 3, status: "Sakit", date: "2024-01-12" },
    ...
    { id: 10, status: "Hadir", date: "2024-01-19" }   // Index 9 (newest/top)
  ]
}

// Operasi:
stack.push(new_data)     // Tambah ke index 10 â†’ Sekarang ada 11
stack.pop()              // Hapus index 0 (oldest) â†’ Kembali 10
stack.peek()             // Lihat index 9 (newest)
stack.getAll()           // Return [...] semua data
```

### LINKED LIST Implementation
```javascript
// Linked List untuk siswa
head â†’ [Siswa 1] â†’ [Siswa 2] â†’ [Siswa 3] â†’ null
       {id:1}      {id:2}      {id:3}

// Operasi:
linkedList.append(data)        // Tambah ke tail
linkedList.prepend(data)       // Tambah ke head
linkedList.findBy('id', 1)     // Traverse cari id=1 â†’ Siswa 1
linkedList.remove(siswa)       // Traverse & hapus node
linkedList.toArray()           // Convert ke array
```

---

## ğŸš€ Deployment Ready

Struktur ini sudah siap untuk:

1. **Scale Up** - Ganti JSON dengan database real
2. **Add Cache** - Redis untuk session/token
3. **Add Queue** - BullMQ untuk background jobs
4. **Add Search** - Elasticsearch untuk pencarian advanced
5. **Add Analytics** - Tracking user behavior
6. **Add Notifications** - Email/SMS notifications

---

**Architecture Documentation v1.0**  
**Created:** January 6, 2026
